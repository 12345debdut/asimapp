{"version":3,"sources":["firebase/common/index.js","component/common/profile/userResults.js"],"names":["fetchUser","async","res","firebaseapp","firestore","collection","doc","id","get","exists","status","data","message","err","UpdateBatchNoFunc","uid","batchno","update","Axios","post","Attendence","where","empty","val","docs","hs","joint","i","length","temp","filter","push","docid","ResultFetch","result","itemid","updateMarks","marks","FairCopyFetch","fairid","DeleteFairCopy","delete","UserResultTab","props","hsResult","setHsResult","useState","jointResult","setJointResult","error","setError","updatemarks","setUpdateMarks","theme","useTheme","useEffect","fetch","updateMarksSingle","toast","success","React","createElement","Input","value","type","onChange","e","target","Row","style","marginTop","Col","Table","striped","hover","bordered","map","item","index","date","Date","key","outof","getDate","getMonth","getFullYear","Button","color","variant","onClick","palette","main","fontSize"],"mappings":"wHAAA,0QAGO,MAAMA,EAAUC,UACnB,IACI,IAAIC,QAAUC,IAAYC,YAAYC,WAAW,SAASC,IAAIC,GAAIC,MAClE,OAAGN,EAAIO,OACG,CACFC,OAAO,IACPH,GAAGL,EAAIK,GACPI,KAAKT,EAAIS,QAGP,CACFD,OAAO,IACPE,QAAQ,kBAGnB,MAAMC,GACH,MAAM,CACFH,OAAO,IACPE,QAAQ,kBAAkBC,EAAID,WAI7BE,EAAkBb,MAAMc,EAAIC,KACrC,IAKI,aAJMb,IAAYC,YAAYC,WAAW,SAASC,IAAIS,GAAKE,OAAO,CAC9DD,kBAEEE,IAAMC,KAAK,sBAAsB,CAACJ,MAAIC,YACtC,CACFN,OAAO,IACPE,QAAQ,iCAEf,MAAMC,GACH,MAAM,CACFH,OAAO,IACPE,QAAQ,kBAAkBC,EAAID,WAK7BQ,EAAWnB,UACpB,IACI,IAAIC,QAAUC,IAAYC,YAAYC,WAAW,cAAcgB,MAAM,KAAK,KAAKN,GAAKP,MACpF,GAAIN,EAAIoB,MAmBJ,MAAM,CACFZ,OAAO,IACPE,QAAQ,iBArBF,CACV,IAAIW,EAAIrB,EAAIsB,KACRC,EAAG,GACHC,EAAM,GACV,IAAI,IAAIC,EAAE,EAAEA,EAAEJ,EAAIK,OAAOD,IAAI,CACzB,IAAIpB,EAAGgB,EAAII,GAAGpB,GACVsB,EAAKN,EAAII,GAAGhB,OACC,OAAdkB,EAAKC,OACJL,EAAGM,KAAK,CAACC,MAAMzB,KAAMsB,IAErBH,EAAMK,KAAK,CAACC,MAAMzB,KAAMsB,IAGhC,MAAM,CACFnB,OAAO,IACPe,KACAC,UAQX,MAAMb,GACH,MAAM,CACFH,OAAO,IACPE,QAAQ,kBAAkBC,EAAID,WAK7BqB,EAAYhC,UACrB,IACI,IAAIiC,QAAa/B,IAAYC,YAAYC,WAAW,WAAWgB,MAAM,KAAK,KAAKN,GAAKP,MACpF,GAAI0B,EAAOZ,MAkBP,MAAM,CACFZ,OAAO,IACPE,QAAQ,iBApBC,CACb,IAAIW,EAAIW,EAAOV,KACXC,EAAG,GACHC,EAAM,GACV,IAAI,IAAIC,EAAE,EAAEA,EAAEJ,EAAIK,OAAOD,IAAI,CACzB,IAAIpB,EAAGgB,EAAII,GAAGpB,GACY,OAAvBgB,EAAII,GAAGhB,OAAOmB,OACbL,EAAGM,KAAK,CAACI,OAAO5B,KAAMgB,EAAII,GAAGhB,SAE7Be,EAAMK,KAAK,CAACI,OAAO5B,KAAMgB,EAAII,GAAGhB,SAGxC,MAAM,CACFD,OAAO,IACPe,KACAC,UAQX,MAAMb,GACH,MAAM,CACFH,OAAO,IACPE,QAAQ,kBAAkBC,EAAID,WAK7BwB,EAAYnC,MAAMM,EAAG8B,KAC9B,IAII,aAHMlC,IAAYC,YAAYC,WAAW,WAAWC,IAAIC,GAAIU,OAAO,CAC/DoB,MAAMA,IAEJ,CACF3B,OAAO,IACPE,QAAQ,wBAEf,MAAMC,GACH,MAAM,CACFH,OAAO,IACPE,QAAQ,kBAAkBC,EAAID,WAK7B0B,EAAcrC,UACvB,IACI,IAAIsB,QAAUpB,IAAYC,YAAYC,WAAW,YAAYgB,MAAM,KAAK,KAAKN,GAAKP,MAClF,GAAIe,EAAID,MAmBJ,MAAM,CACFZ,OAAO,IACPE,QAAQ,iBArBF,CACV,IAAIY,EAAKD,EAAIC,KACTC,EAAG,GACHC,EAAM,GACV,IAAI,IAAIC,EAAE,EAAEA,EAAEH,EAAKI,OAAOD,IAAI,CAC1B,IAAIE,EAAKL,EAAKG,GAAGhB,OACbJ,EAAGiB,EAAKG,GAAGpB,GACE,OAAdsB,EAAKC,OACJL,EAAGM,KAAK,CAACQ,OAAOhC,KAAMsB,IAEtBH,EAAMK,KAAK,CAACQ,OAAOhC,KAAMsB,IAGjC,MAAM,CACFnB,OAAO,IACPe,KACAC,UAQX,MAAMb,GACH,MAAM,CACFH,OAAO,IACPE,QAAQ,kBAAkBC,EAAID,WAK7B4B,EAAevC,UACxB,IAEI,aADME,IAAYC,YAAYC,WAAW,YAAYC,IAAIC,GAAIkC,SACvD,CACF/B,OAAO,IACPE,QAAQ,wBAEf,MAAMC,GACH,MAAM,CACFH,OAAO,IACPE,QAAQ,kBAAkBC,EAAID,Y,iCC9K1C,yIAQe,SAAS8B,EAAcC,GAClC,MAAOC,EAASC,GAAaC,mBAAS,KAC/BC,EAAYC,GAAgBF,mBAAS,KACrCG,EAAMC,GAAUJ,mBAAS,KACzBK,EAAYC,GAAgBN,mBAAS,GACtCO,EAAMC,cACZC,oBAAU,KACNC,KACF,CAACb,EAAM5B,MACT,MAAMyC,EAAMvD,UACR,MAAM,IAACc,GAAK4B,EACZ,GAAG5B,EAAI,CACH,IAAIQ,QAAUU,YAAYlB,GACX,KAAZQ,EAAIb,QACHmC,EAAYtB,EAAIE,IAChBuB,EAAezB,EAAIG,OACnB0B,EAAe,IAEfF,EAAS3B,EAAIX,WAInB6C,EAAkBxD,UACpB,MAAMC,QAAUkC,YAAY7B,EAAG4C,GAChB,KAAZjD,EAAIQ,QACHgD,IAAMC,QAAQzD,EAAIU,SAClB4C,KAEAN,EAAShD,EAAIU,UAGrB,OACIgD,IAAAC,cAAA,WACAD,IAAAC,cAAA,aAAO,0CACPD,IAAAC,cAAA,WACAD,IAAAC,cAACC,IAAK,CAACC,MAAOZ,EAAaa,KAAK,SAASC,SAAWC,IAC5Cd,EAAec,EAAEC,OAAOJ,UAE5BH,IAAAC,cAAA,WACAD,IAAAC,cAACO,IAAG,CAACC,MAAO,CAACC,UAAU,KACtB1B,EAAShB,OAAO,GAAGgC,IAAAC,cAACU,IAAG,KACxBX,IAAAC,cAAA,UAAI,cACJD,IAAAC,cAACW,IAAK,CAACC,SAAO,EAACC,OAAK,EAACC,UAAQ,GACzBf,IAAAC,cAAA,aACID,IAAAC,cAAA,UACID,IAAAC,cAAA,UAAI,KAGJD,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,UAAI,QACJD,IAAAC,cAAA,UAAI,YAGZD,IAAAC,cAAA,aACKjB,EAASgC,IAAI,CAACC,EAAKC,KAChB,IAAIC,EAAK,IAAIC,KAAKH,EAAKE,MACvB,OACAnB,IAAAC,cAAA,MAAIoB,IAAKH,GACLlB,IAAAC,cAAA,UAAKiB,EAAM,GACXlB,IAAAC,cAAA,UAAKgB,EAAKxC,OACVuB,IAAAC,cAAA,UAAKgB,EAAKK,OACVtB,IAAAC,cAAA,UAAKkB,EAAKI,UAAU,IAAEJ,EAAKK,WAAW,EAAE,IAAEL,EAAKM,eAC/CzB,IAAAC,cAAA,UAAID,IAAAC,cAACyB,IAAM,CAACC,MAAM,UAAUC,QAAQ,WAAWC,QAASA,KACpDhC,EAAkBoB,EAAK1C,UACxB,iBAOlBY,EAAYnB,OAAO,GAAGgC,IAAAC,cAACU,IAAG,KACvBX,IAAAC,cAAA,UAAI,iBACRD,IAAAC,cAACW,IAAK,CAACC,SAAO,EAACC,OAAK,EAACC,UAAQ,GACzBf,IAAAC,cAAA,aACID,IAAAC,cAAA,UACID,IAAAC,cAAA,UAAI,KAGJD,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,UAAI,QACJD,IAAAC,cAAA,UAAI,YAGZD,IAAAC,cAAA,aACKd,EAAY6B,IAAI,CAACC,EAAKC,KACnB,IAAIC,EAAK,IAAIC,KAAKH,EAAKE,MACvB,OACInB,IAAAC,cAAA,MAAIoB,IAAKH,GACTlB,IAAAC,cAAA,UAAKiB,EAAM,GACXlB,IAAAC,cAAA,UAAKgB,EAAKxC,OACVuB,IAAAC,cAAA,UAAKgB,EAAKK,OACVtB,IAAAC,cAAA,UAAKkB,EAAKI,UAAU,IAAEJ,EAAKK,WAAW,EAAE,IAAEL,EAAKM,eAC/CzB,IAAAC,cAAA,UAAID,IAAAC,cAACyB,IAAM,CAACC,MAAM,UAAUC,QAAQ,WAAWC,QAASA,KACpDhC,EAAkBoB,EAAK1C,UACxB,kBAQlBc,GAAOW,IAAAC,cAAA,KAAGQ,MAAO,CAACkB,MAAMlC,EAAMqC,QAAQzC,MAAM0C,KAAKC,SAAS,KAAM3C","file":"static/js/8.157c8821.chunk.js","sourcesContent":["import { firebaseapp } from \"../init\"\r\nimport Axios from \"axios\"\r\n\r\nexport const fetchUser=async(id)=>{\r\n    try{\r\n        let res=await firebaseapp.firestore().collection('users').doc(id).get()\r\n        if(res.exists){\r\n            return{\r\n                status:200,\r\n                id:res.id,\r\n                data:res.data()\r\n            }\r\n        }else{\r\n            return{\r\n                status:400,\r\n                message:\"Invalid userid\"\r\n            }\r\n        }\r\n    }catch(err){\r\n        return{\r\n            status:400,\r\n            message:\"Error occured: \"+err.message\r\n        }\r\n    }\r\n}\r\nexport const UpdateBatchNoFunc=async(uid,batchno)=>{\r\n    try{\r\n        await firebaseapp.firestore().collection('users').doc(uid).update({\r\n            batchno\r\n        })\r\n        await Axios.post(\"/cloud/payments/uid\",{uid,batchno})\r\n        return{\r\n            status:200,\r\n            message:\"Successfully updated batch no\"\r\n        }\r\n    }catch(err){\r\n        return{\r\n            status:400,\r\n            message:\"Error occured: \"+err.message\r\n        }\r\n    }\r\n}\r\n\r\nexport const Attendence=async(uid)=>{\r\n    try{\r\n        let res=await firebaseapp.firestore().collection('attendence').where(\"id\",\"==\",uid).get()\r\n        if(!res.empty){\r\n            let val=res.docs\r\n            let hs=[]\r\n            let joint=[]\r\n            for(let i=0;i<val.length;i++){\r\n                let id=val[i].id\r\n                let temp=val[i].data()\r\n                if(temp.filter===\"HS\"){\r\n                    hs.push({docid:id,...temp})\r\n                }else{\r\n                    joint.push({docid:id,...temp})\r\n                }\r\n            }\r\n            return{\r\n                status:200,\r\n                hs,\r\n                joint\r\n            }\r\n        }else{\r\n            return{\r\n                status:400,\r\n                message:\"No data found\"\r\n            }\r\n        }\r\n    }catch(err){\r\n        return{\r\n            status:400,\r\n            message:\"Error occured: \"+err.message\r\n        }\r\n    }\r\n}\r\n\r\nexport const ResultFetch=async(uid)=>{\r\n    try{\r\n        let result=await firebaseapp.firestore().collection('results').where(\"id\",\"==\",uid).get()\r\n        if(!result.empty){\r\n            let val=result.docs\r\n            let hs=[]\r\n            let joint=[]    \r\n            for(let i=0;i<val.length;i++){\r\n                let id=val[i].id\r\n                if(val[i].data().filter===\"HS\"){\r\n                    hs.push({itemid:id,...val[i].data()})\r\n                }else{\r\n                    joint.push({itemid:id,...val[i].data()})\r\n                }\r\n            }\r\n            return{\r\n                status:200,\r\n                hs,\r\n                joint\r\n            }\r\n        }else{\r\n            return{\r\n                status:400,\r\n                message:\"No data found\"\r\n            }\r\n        }\r\n    }catch(err){\r\n        return{\r\n            status:400,\r\n            message:\"Error occured: \"+err.message\r\n        }\r\n    }\r\n}\r\n\r\nexport const updateMarks=async(id,marks)=>{\r\n    try{\r\n        await firebaseapp.firestore().collection('results').doc(id).update({\r\n            marks:marks\r\n        })\r\n        return{\r\n            status:200,\r\n            message:\"Successfully updated\"\r\n        }\r\n    }catch(err){\r\n        return{\r\n            status:400,\r\n            message:\"Error occured: \"+err.message\r\n        }\r\n    }\r\n}\r\n\r\nexport const FairCopyFetch=async(uid)=>{\r\n    try{\r\n        let val=await firebaseapp.firestore().collection('faircopy').where(\"id\",\"==\",uid).get()\r\n        if(!val.empty){\r\n            let docs=val.docs\r\n            let hs=[]\r\n            let joint=[]\r\n            for(let i=0;i<docs.length;i++){\r\n                let temp=docs[i].data()\r\n                let id=docs[i].id\r\n                if(temp.filter===\"HS\"){\r\n                    hs.push({fairid:id,...temp})\r\n                }else{\r\n                    joint.push({fairid:id,...temp})\r\n                }\r\n            }\r\n            return{\r\n                status:200,\r\n                hs,\r\n                joint\r\n            }\r\n        }else{\r\n            return{\r\n                status:400,\r\n                message:\"No data found\"\r\n            }\r\n        }\r\n    }catch(err){\r\n        return{\r\n            status:400,\r\n            message:\"Error occured: \"+err.message\r\n        }\r\n    }\r\n}\r\n\r\nexport const DeleteFairCopy=async(id)=>{\r\n    try{    \r\n        await firebaseapp.firestore().collection('faircopy').doc(id).delete()\r\n        return{\r\n            status:200,\r\n            message:\"Successfully deleted\"\r\n        }\r\n    }catch(err){\r\n        return{\r\n            status:400,\r\n            message:\"Error occured: \"+err.message\r\n        }\r\n    }\r\n}","import React, { useState,useEffect } from 'react'\r\nimport {Table,Row,Col} from 'reactstrap'\r\nimport { ResultFetch,updateMarks } from '../../../firebase/common'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Input from '@material-ui/core/Input'\r\nimport { toast } from 'react-toastify'\r\nimport {useTheme} from '@material-ui/core'\r\nexport default function UserResultTab(props){\r\n    const [hsResult,setHsResult]=useState([])\r\n    const [jointResult,setJointResult]=useState([])\r\n    const [error,setError]=useState(\"\")\r\n    const [updatemarks,setUpdateMarks]=useState(0)\r\n    const theme=useTheme()\r\n    useEffect(()=>{\r\n        fetch()\r\n    },[props.uid])\r\n    const fetch=async()=>{\r\n        const {uid}=props\r\n        if(uid){\r\n            let val=await ResultFetch(uid)\r\n            if(val.status==200){\r\n                setHsResult(val.hs)\r\n                setJointResult(val.joint)\r\n                setUpdateMarks(0)\r\n            }else{\r\n                setError(val.message)\r\n            }\r\n        }\r\n    }\r\n    const updateMarksSingle=async(id)=>{\r\n        const res=await updateMarks(id,updatemarks)\r\n        if(res.status==200){\r\n            toast.success(res.message)\r\n            fetch()\r\n        }else{\r\n            setError(res.message)\r\n        }\r\n    }\r\n    return(\r\n        <div>\r\n        <label>The number whatever you want to update</label>\r\n        <br/>\r\n        <Input value={updatemarks} type=\"number\" onChange={(e)=>{\r\n                setUpdateMarks(e.target.value)\r\n            }}/>\r\n            <br/>\r\n            <Row style={{marginTop:10}}>\r\n            {hsResult.length>0&&<Col>\r\n            <h5>HS Results</h5>\r\n            <Table striped hover bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>\r\n                            #\r\n                        </th>\r\n                        <th>Marks</th>\r\n                        <th>Out of Marks</th>\r\n                        <th>Date</th>\r\n                        <th>Update</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {hsResult.map((item,index)=>{\r\n                        let date=new Date(item.date)\r\n                        return(\r\n                        <tr key={index}>\r\n                            <td>{index+1}</td>\r\n                            <td>{item.marks}</td>\r\n                            <td>{item.outof}</td>\r\n                            <td>{date.getDate()}-{date.getMonth()+1}-{date.getFullYear()}</td>\r\n                            <td><Button color=\"primary\" variant=\"outlined\" onClick={()=>{\r\n                                updateMarksSingle(item.itemid)\r\n                            }}>Update</Button></td>\r\n                        </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n            </Col>}\r\n            {jointResult.length>0&&<Col>\r\n                <h5>JOINT Results</h5>\r\n            <Table striped hover bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>\r\n                            #\r\n                        </th>\r\n                        <th>Marks</th>\r\n                        <th>Out of Marks</th>\r\n                        <th>Date</th>\r\n                        <th>Update</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {jointResult.map((item,index)=>{\r\n                        let date=new Date(item.date)\r\n                        return(\r\n                            <tr key={index}>\r\n                            <td>{index+1}</td>\r\n                            <td>{item.marks}</td>\r\n                            <td>{item.outof}</td>\r\n                            <td>{date.getDate()}-{date.getMonth()+1}-{date.getFullYear()}</td>\r\n                            <td><Button color=\"primary\" variant=\"outlined\" onClick={()=>{\r\n                                updateMarksSingle(item.itemid)\r\n                            }}>Update</Button></td>\r\n                            </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n            </Col>}\r\n            </Row>\r\n            {error&&<p style={{color:theme.palette.error.main,fontSize:20}}>{error}</p>}\r\n        </div>\r\n    );\r\n}"],"sourceRoot":""}