(this.webpackJsonpasimexamappclient=this.webpackJsonpasimexamappclient||[]).push([[7],{435:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return m}));var r=a(8),n=a(49),s=a.n(n);const l=async e=>{try{let t=await r.a.firestore().collection("users").doc(e).get();return t.exists?{status:200,id:t.id,data:t.data()}:{status:400,message:"Invalid userid"}}catch(t){return{status:400,message:"Error occured: "+t.message}}},c=async(e,t)=>{try{return await r.a.firestore().collection("users").doc(e).update({batchno:t}),await s.a.post("/cloud/payments/uid",{uid:e,batchno:t}),{status:200,message:"Successfully updated batch no"}}catch(a){return{status:400,message:"Error occured: "+a.message}}},u=async e=>{try{let t=await r.a.firestore().collection("attendence").where("id","==",e).get();if(t.empty)return{status:400,message:"No data found"};{let e=t.docs,a=[],r=[];for(let t=0;t<e.length;t++){let n=e[t].id,s=e[t].data();"HS"===s.filter?a.push({docid:n,...s}):r.push({docid:n,...s})}return{status:200,hs:a,joint:r}}}catch(t){return{status:400,message:"Error occured: "+t.message}}},i=async e=>{try{let t=await r.a.firestore().collection("results").where("id","==",e).get();if(t.empty)return{status:400,message:"No data found"};{let e=t.docs,a=[],r=[];for(let t=0;t<e.length;t++){let n=e[t].id;"HS"===e[t].data().filter?a.push({itemid:n,...e[t].data()}):r.push({itemid:n,...e[t].data()})}return{status:200,hs:a,joint:r}}}catch(t){return{status:400,message:"Error occured: "+t.message}}},o=async(e,t)=>{try{return await r.a.firestore().collection("results").doc(e).update({marks:t}),{status:200,message:"Successfully updated"}}catch(a){return{status:400,message:"Error occured: "+a.message}}},d=async e=>{try{let t=await r.a.firestore().collection("faircopy").where("id","==",e).get();if(t.empty)return{status:400,message:"No data found"};{let e=t.docs,a=[],r=[];for(let t=0;t<e.length;t++){let n=e[t].data(),s=e[t].id;"HS"===n.filter?a.push({fairid:s,...n}):r.push({fairid:s,...n})}return{status:200,hs:a,joint:r}}}catch(t){return{status:400,message:"Error occured: "+t.message}}},m=async e=>{try{return await r.a.firestore().collection("faircopy").doc(e).delete(),{status:200,message:"Successfully deleted"}}catch(t){return{status:400,message:"Error occured: "+t.message}}}},443:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var r=a(0),n=a.n(r),s=a(384),l=a(406),c=a(408),u=a(435),i=a(385),o=a(11),d=a(14),m=a(42);function h(e){const[t,a]=Object(r.useState)([]),[h,f]=Object(r.useState)([]),[E,g]=Object(r.useState)(""),[p,y]=Object(r.useContext)(d.a),b=Object(m.a)();Object(r.useEffect)(()=>{w()},[e.uid]);const w=async()=>{const{uid:t}=e;if(t){let e=await Object(u.c)(t);200===e.status?(a(e.hs),f(e.joint)):g(e.message)}},j=async e=>{let t=await Object(u.b)(e);200===t.status?(o.b.success(t.message),w()):g(t.message)};return n.a.createElement("div",null,n.a.createElement(s.a,null,t.length>0&&n.a.createElement(l.a,null,n.a.createElement("h4",null,"HS table"),n.a.createElement(c.a,{striped:!0,hover:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"Chapters"),n.a.createElement("th",null,"Date"),p.isAdmin&&n.a.createElement("th",null,"Delete"))),n.a.createElement("tbody",null,t.map((e,t)=>{let a=new Date(e.date);return n.a.createElement("tr",{key:t},n.a.createElement("td",null,t+1),n.a.createElement("td",null,e.chapter),n.a.createElement("td",null,a.getDate(),"-",a.getMonth()+1,"-",a.getFullYear()),p.isAdmin&&n.a.createElement("td",null,n.a.createElement(i.a,{color:"primary",variant:"outlined",onClick:()=>{j(e.fairid)}},"Delete")))})))),h.length>0&&n.a.createElement(l.a,null,n.a.createElement("h4",null,"JOINT table"),n.a.createElement(c.a,{striped:!0,hover:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"Chapters"),n.a.createElement("th",null,"Date"),p.isAdmin&&n.a.createElement("th",null,"Delete"))),n.a.createElement("tbody",null,h.map((e,t)=>{let a=new Date(e.date);return n.a.createElement("tr",{key:t},n.a.createElement("td",null,t+1),n.a.createElement("td",null,e.chapter),n.a.createElement("td",null,a.getDate(),"-",a.getMonth()+1,"-",a.getFullYear()),p.isAdmin&&n.a.createElement("td",null,n.a.createElement(i.a,{color:"primary",variant:"outlined",onClick:()=>{j(e.fairid)}},"Delete")))}))))),E&&n.a.createElement("p",{style:{color:b.palette.error.main,fontSize:20}},E))}}}]);
//# sourceMappingURL=7.87e9363a.chunk.js.map